---
title: 图解HTTP笔记
date: 2018-01-15 00:59:00
tags: HTTP 笔记 TCP IP DNS
---
# 第一章 了解 Web 及网络基础
## 1.1 使用 HTTP 协议访问 Web
当我们在浏览器地址输入 URL 敲下回车，根据 Web 浏览器地址栏中指定的URL，Web 浏览器从 Web 服务器端获取文件资源（resource）等信息，从而显示出 Web 页面。
从客户端到服务器端等一系列运作流程，使用的就是HTTP协议。
Web 是建立在 HTTP 协议上通信的。
## 1.2 HTTP 的诞生
1989年3月，HTTP 诞生了。
CERN（欧洲核子研究组织）的蒂姆 • 伯纳斯 - 李（Tim BernersLee）- 李爵士
提出了3项 WWW 构建技术
1. HTML
2. HTTP
3. URL
## 1.3 网络基础 TCP/IP
通常使用的网络（包括互联网）是在 TCP/IP 协议族的基础上运作的。而 HTTP 属于它内部的一个子集。
计算机与网络设备要相互通信，双方就必须基于同样的方法，遵守同样的规则，这个规则就叫做协议。
互联网相关联的协议集合起来总称为 TCP/IP。
<!--more-->
TCP/IP 协议族里重要的一点就是分层。TCP/IP 协议族按层次分别分为以下 4 层：应用层、传输层、网络层和数据链路层。
（由于未在书中得到关于应用层更好的解释，为了方便理解，[参考阮一峰博客](http://www.ruanyifeng.com/blog/2012/05/internet_protocol_suite_part_i.html)）

1. 应用层：应用层会收到“传输层”的数据进行解读，规定应用程序的数据格式（HTTP也处于这一层）
2. 传输层：对上层应用层，提供处于网络链接中的两台计算机之间的数据传输。
3. 网络层：处理网络上流动的数据包。（数据包是网络传输的最小数据单位）该层规定了通过怎样的路径（传输路线）到达对方的计算机，并把数据包传送给对方。（如果需要通过多台计算机或网络设备传输，网络层的作用就是在众多选项里选择一条传输路线）
4. 链路层
用来处理连接网络的硬件部分。（硬件上的范畴均在链路层的作用范围内）
![TCP/IP 通信传输流](https://i.loli.net/2018/01/14/5a5b7b1fd2f6d.png)
利用 TCP/IP 协议族进行网络通信时，会通过分层顺序与对方进行通信。发送端从应用层往下走，接收端则从链路层往上走。
![TCP/IP 通信传输流](https://i.loli.net/2018/01/14/5a5b7c638ddbc.png)
发送端在层与层之间传输数据时，每经过一层时必定会被打上一个该层所属的首部信息。反之，接收端在层与层传输数据时，每经过一层时会把对应的首部消去。
## 1.4 与 HTTP 关系密切的协议 : IP 和 TCP
- IP 网际协议位于网络层，作用是把各种数据包传送给对方。为了确保数据能够准确传送，则需要满足一些条件，IP 地址和 Mac 地址。
IP 地址是指节点被分配到的地址（可更换），Mac 地址指网卡所属的固定地址（不会更改）。
- TCP 协议位于传输层，将数据节流（将大块数据分割管理），能够将数据准确可靠的传达。
TCP 的三次握手（TCP 协议能够确认数据是否送达）
发送端首先发送一个带 SYN 标志的数据包给对方。接收端收到后，回传一个带有 SYN/ACK 标志的数据包以示传达确认信息。最后，发送端再回传一个带 ACK 标志的数据包，代表“握手”结束。
![TCP的三次握手](https://i.loli.net/2018/01/15/5a5b82c66173b.png)
## 1.5 负责域名解析的 DNS 服务
DNS（Domain Name System）服务是和 HTTP 协议一样位于应用层的协议。它提供域名到 IP 地址之间的解析服务。
- 用户：通常使用域名访问对方计算机，而不是通过 IP 地址。（语义化）
- 计算机：更擅长处理数字（IP地址），而不是域名。

为了解决这一问题，DNS 服务诞生了。DNS 协议提供通过域名查找 IP 地址，或逆向从 IP 地址反查域名的服务。
## 1.6 各种协议与 HTTP 协议的关系
![输入URL之后发生了什么](https://i.loli.net/2018/01/15/5a5b86194b932.png)
## 1.7 URI 和 URL
URI 用字符串标识某一互联网资源，而 URL 表示资源的地点（互联网上所处的位置）。可见 URL 是 URI 的子集。
![URI 格式](https://i.loli.net/2018/01/15/5a5b890ddf1ce.png)
通过 URL 你可以确定一个唯一的网址。